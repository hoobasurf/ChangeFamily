<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Profil — ChangeFamily</title>
<link rel="stylesheet" href="style.css">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.0.1/model-viewer.min.js"></script>
<style>
.popup.hidden{display:none;}
.popup{position:absolute;background:#222;padding:10px;border-radius:8px;top:60px;}
.create-container{position:relative;margin:10px 0;}
.pill-btn{margin:4px;padding:6px 10px;border-radius:20px;cursor:pointer;}
</style>
</head>
<body>

<h2>Mon profil</h2>

<div class="create-container">
  <button id="openCreateMenu" class="pill-btn">Créer</button>
</div>

<div id="createMenu" class="popup hidden">
  <button id="btnPhoto" class="pill-btn small-btn">Photo</button>
  <button id="btnAvatar" class="pill-btn small-btn">Avatar</button>
  <button id="btnCreature" class="pill-btn small-btn">Créature</button>
</div>

<div id="menuPhoto" class="popup hidden">
  <button id="photoLib" class="pill-btn small-btn">Photothèque</button>
  <button id="takePhoto" class="pill-btn small-btn">Prendre une photo</button>
</div>

<div id="menuCreature" class="popup hidden">
  <button id="chooseCreature" class="pill-btn small-btn">Choisir une créature</button>
  <button id="createCreature" class="pill-btn small-btn">Créer une créature</button>
</div>

<div id="chooseCreatureMenu" class="popup hidden">
  <button class="pill-btn small-btn">Licorne</button>
  <button class="pill-btn small-btn">Dragon</button>
</div>

<div id="createCreatureMenu" class="popup hidden">
  <label>Couleur:<input type="color" id="colorCreature"></label>
  <label>Taille:<select id="sizeCreature">
    <option>Petite</option>
    <option>Moyenne</option>
    <option>Grande</option>
  </select></label>
  <button id="validateCreature" class="pill-btn small-btn">Valider</button>
</div>

<script>
const $ = id=>document.getElementById(id);
const menus=[ $('createMenu'),$('menuPhoto'),$('menuCreature'),$('chooseCreatureMenu'),$('createCreatureMenu') ];

function closeAll(){menus.forEach(m=>m.classList.add('hidden'))}
function open(m){closeAll(); m.classList.remove('hidden')}

$('openCreateMenu').onclick=e=>{e.stopPropagation();open($('createMenu'))}
$('btnPhoto').onclick=e=>{e.stopPropagation();open($('menuPhoto'))}
$('btnAvatar').onclick=e=>{e.stopPropagation();open($('menuPhoto'))}
$('btnCreature').onclick=e=>{e.stopPropagation();open($('menuCreature'))}
$('chooseCreature').onclick=e=>{e.stopPropagation();open($('chooseCreatureMenu'))}
$('createCreature').onclick=e=>{e.stopPropagation();open($('createCreatureMenu'))}
menus.forEach(m=>m.onclick=e=>e.stopPropagation())
document.body.onclick=closeAll
</script>

</body>
</html>
