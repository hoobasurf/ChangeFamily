<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profil</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<div class="screen" style="text-align:center; position:relative; overflow:hidden;">
  <!-- üåå Particules -->
  <canvas id="particleCanvas"></canvas>

  <!-- üë§ Avatar avec halo -->
  <div class="avatar-wrapper">
    <div class="avatar-glow"></div>
    <img id="avatarImg" src="avatar-default.png" class="avatar-big">
  </div>

  <h2 id="pseudoDisplay">Sans pseudo</h2>
  <button class="glass-btn" onclick="openEdit()">Modifier</button>
</div>

<!-- MODAL MODIFIER -->
<div id="editModal">
  <div id="editBox">
    <h3>Modifier le profil</h3>

    <input id="pseudoInput" placeholder="Ton pseudo">
    <button id="savePseudo" class="glass-btn">Enregistrer Pseudo</button>

    <button id="chooseAvatar" class="glass-btn">Choisir Galerie</button>
    <button id="openCameraAvatar" class="glass-btn">Ouvrir Selfie</button>

    <input type="file" id="avatarFile" accept="image/*" hidden>

    <br><br>
    <button class="glass-btn" onclick="closeEdit()">Fermer</button>
  </div>
</div>

  <!-- AVATAR SELECTOR -->
<div id="avatarSelectorModal" class="modal hidden">
  <div class="modal-box">
    <h3>Choisir / G√©n√©rer un avatar</h3>

    <div class="selector-grid">
      <div>
        <label>Style rapide</label>
        <select id="diceStyle">
          <option value="avataaars">Cartoon (avataaars)</option>
          <option value="bottts">Roboty (bottts)</option>
          <option value="male">Pixel (male)</option>
          <option value="identicon">Identicon</option>
        </select>
      </div>

      <div>
        <label>Seed (pseudo ou al√©atoire)</label>
        <input id="diceSeed" placeholder="tonPseudo123">
      </div>

      <div>
        <label>Zone</label>
        <select id="avatarCrop">
          <option value="head">T√™te & √©paules</option>
          <option value="bust">Buste</option>
          <option value="full">Corps entier</option>
        </select>
      </div>
    </div>

    <div class="selector-actions">
      <button id="generateDice" class="glass-btn">G√©n√©rer instantan√©</button>
      <button id="openRPM" class="glass-btn">Cr√©er avec Ready Player Me (3D)</button>
      <button id="useSelected" class="glass-btn">Utiliser cet avatar</button>
      <button id="closeSelector" class="glass-btn">Fermer</button>
    </div>

    <div class="preview-area">
      <p>Pr√©visualisation</p>
      <img id="avatarPreview" src="avatar-default.png" alt="Pr√©view" />
    </div>
  </div>
</div>

<!-- DOCK -->
<div class="bottom-nav">
  <a href="home.html"><i class="fa-solid fa-house"></i></a>
  <a href="camera.html"><i class="fa-solid fa-camera"></i></a>
  <a href="chat.html"><i class="fa-solid fa-comment-dots"></i></a>
  <a href="profile.html" class="active"><i class="fa-solid fa-user"></i></a>
</div>

<script>
function openEdit(){ document.getElementById('editModal').style.display = "flex" }
function closeEdit(){ document.getElementById('editModal').style.display = "none" }
</script>

<script type="module" src="profile.js"></script>
<!-- === MODAL S√âLECTEUR D'AVATAR === -->
<div id="avatarSelectorModal" class="avatar-modal hidden">
  <div class="avatar-modal-content">
    <h2>Choisis ton avatar</h2>

    <div class="avatar-preview-container">
      <img id="avatarPreview" src="avatar-default.png" alt="Pr√©visualisation">
    </div>

    <label>üé® Style :</label>
    <select id="diceStyle">
      <option value="avataaars">Avataaars (cartoon humain)</option>
      <option value="bottts">Bottts (robots mignons)</option>
      <option value="pixel-art">Pixel Art</option>
      <option value="croodles">Croodles (dessin fun)</option>
      <option value="identicon">Identicon (motif abstrait)</option>
    </select>

    <label>üß¨ G√©n√©rateur (seed) :</label>
    <input id="diceSeed" placeholder="Ton pseudo ou un mot au hasard">

    <button id="generateDice" class="glass-btn">üé≤ G√©n√©rer Avatar</button>
    <button id="openRPM" class="glass-btn">üåê Ready Player Me</button>
    <button id="useSelected" class="glass-btn">‚úÖ Utiliser cet avatar</button>
    <button id="closeSelector" class="glass-btn">‚ùå Fermer</button>
  </div>
</div>

</body>
</html>
