<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="auth-card">
  <h2>Connexion</h2>

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Mot de passe">

  <button class="auth-btn" onclick="login()">Se connecter</button>
  <button class="auth-btn" onclick="register()">Sâ€™inscrire</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCVl5ktUmuiVeMtYUHtxORytkeu71_XBF0",
  authDomain: "changefamilysnap.firebaseapp.com",
  projectId: "changefamilysnap",
  storageBucket: "changefamilysnap.firebasestorage.app",
  messagingSenderId: "335835110495",
  appId: "1:335835110495:web:13194c4bd4579d4f434fea",
  measurementId: "G-8D5PC0EZ74"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.login = () => {
  signInWithEmailAndPassword(auth, email.value, password.value)
    .then(() => location.href = "home.html")
    .catch(err => alert(err.message));
}

window.register = () => {
  createUserWithEmailAndPassword(auth, email.value, password.value)
    .then(() => location.href = "home.html")
    .catch(err => alert(err.message));
}

window.addEventListener("load", () => {
  document.body.style.opacity = "1";
});
</script>

</body>
</html>
