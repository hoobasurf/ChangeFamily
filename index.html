<script type="module">
  import { auth } from './firebase.js';
  import { signInWithEmailAndPassword, createUserWithEmailAndPassword } 
    from "https://www.gstatic.com/firebasejs/12.5.0/firebase-auth.js";

  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');
  const loginBtn = document.getElementById('loginBtn');
  const signupBtn = document.getElementById('signupBtn');

  signupBtn.onclick = async () => {
    const email = emailInput.value;
    const password = passwordInput.value;
    if(!email || !password) return alert("Email et mot de passe requis");
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      window.location.href = "home.html"; // redirection après inscription
    } catch(e) { alert(e.message); }
  };

  loginBtn.onclick = async () => {
    const email = emailInput.value;
    const password = passwordInput.value;
    if(!email || !password) return alert("Email et mot de passe requis");
    try {
      await signInWithEmailAndPassword(auth, email, password);
      window.location.href = "home.html"; // redirection après login
    } catch(e) { alert(e.message); }
  };
</script>
